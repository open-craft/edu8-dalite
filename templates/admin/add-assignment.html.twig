{% include 'head.html' %}

<!-- styles and script for jQuery UI Sortable -->
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" />
    <style>
        #sortable1, #sortable2,  #sortable3 { list-style-type: none; margin: 0; padding: 0; /*float: left;*/ margin-right: 10px; background: #eee; padding: 5px; /*width: 143px;*/}
        #sortable1 li, #sortable2 li, #sortable3 li { margin: 5px; padding: 5px; font-size: .9em; /*width: 120px;*/ cursor: pointer; }
        .addandsort {background-color: #C29C9B !important;}
    </style>
    <script>
    $(function() {
        $( "#sortable1, #sortable2, #sortable3" ).sortable({
	            connectWith: ".connectedSortable"
		            }).disableSelection();

    $( "#tabs" ).tabs();
         $( "#sortable3" ).sortable({
	             items: "li:not(.ui-state-disabled)"
		             });
			      
                });

    </script>
    
    
{% include 'header.html' %}

<section id="main-content">

{% include '/admin/navbar.html.twig' %}
    <!--<section class="generic teal" style="padding: 1em;">
        <h1>Add Assignment</h1>        
    </section>-->
    
    <section class="generic teal" style="padding: 1em;">
        <h1>Assignment Builder</h1>
        <p style="margin: 1em 2em 1.5em 1em; font-size: .9em;">Create a new assignment by dragging questions from any of the thematic tabs into the Assignment Builder "Drop and Sort Here" window. The questions can be reordered in the Assignment Builder at any time by dragging them up or down. Once you are finished click submit. If you wish to add a new question, click on the <a href="https://edu8.ca/admin/add-question/">Add Question Button Above</a></p>
        <div id="tabs">
            <h1 style="color: #5A7279; font-size: .8em; margin-left: .7em;">Available Questions</h1>
            <ul>
                <li><a href="#tabs-1">Linear Dynamics</a></li>
                <li><a href="#tabs-2">ID Kinematics</a></li>
            </ul>
            <div id="tabs-1">
                <ul id="sortable1" class="connectedSortable ui-helper-reset">
                {% for q in all_questions %}
                    <li id="q={{ q['question_'] }}" class="ui-state-default">{{ q['description'] }}</li>
                    {% endfor %}
                </ul>
            </div>
            <div id="tabs-2">
                <ul id="sortable2" class="connectedSortable ui-helper-reset">
                    <li class="ui-state-highlight">Given x vs t graph, at which time is velocity most megative?</li>
                    <li class="ui-state-highlight">Four compressed mass-springs, rank maximum speed.</li>
                    <li class="ui-state-highlight">Given x vs t what is velocity and force at time indicated by dotted line?</li>
                    <li class="ui-state-highlight">Kinetic energy at points A and B?</li>
                    <li class="ui-state-highlight">Which time is kinetic energy greatest?</li>
                </ul>
            </div>
        </div>
        <br style="clear: both;" />        
        <ul id="sortable3" class="connectedSortable addandsort" style="margin: .2em; border: 1px #aaa solid;">
            <li class="ui-state-default ui-state-disabled">DROP &amp; SORT QUESTIONS HERE!!!!!!</li>
        </ul>
        <form id="form" action="/admin" method="POST" style="margin: .5em 1em 0 1em;">  
            <label>Assignment title: </label>
            <input type="text" class="input-medium search-query" placeholder="">
            <label>Course : </label>
            <select>
                <option value="lineardynamics">Choose a course</option>
                <option value="lineardynamics">Linear Dynamics</option>
                <option value="kinematics">ID Kinematics</option>
            </select><input type="hidden" id="PostField" name="postvar" value="">
        </form>
    
<a href="javascript: submitform()"><button type="submit" class="btn" style="margin: 1em;">Submit</button></a>
</section>
    <script>
function submitform()
{
   var qs = $( "#sortable3" ).sortable( "serialize" );
    $('#PostField').val(qs);
  document.getElementById('form').submit();
}
</script>

    </script>
    <br style="clear: both;" />

 
</div><!-- close #main-content -->
</body>
</html>
